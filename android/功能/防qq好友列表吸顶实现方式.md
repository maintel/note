大致可以分为两类，

- 支持左右滑动切换的

- 不支持左右滑动切换

对于一个复杂页面中的这两种可以有不同的实现方式，

首先共同点是，这两种页面的最外层是用一个 scrollview 或者 NestedScrollView 包裹的。

# 不支持左右滑动切换的

这种相对来说简单一些，大致思路就是通过监听 scrollview 的滑动来给顶部导航来重设位置，以达到顶部导航一直保持固定不动的目的。然后切换的时候可以通过对不同菜单的 visibility 值控制来达到目的。

# 对于支持左右滑动的

支持左右滑动的就比较复杂些，一般这种都是通过一个 viewpager + tablayout 来实现，这里要做的有两点：一是确定 viewpager 的最大高度为顶部一下一直到最底部的高度；二是通过监听 scrollview 的高度，来确定当顶部导航达到阈值的时候让 viewpager 来接管滑动事件，以实现viewpager 内部的上下以及左右滑动。

# 为什么这两种的实现方式不同？

主要原因是出现第二种的高度上面。

想象一下，对于第二种来说，当viewpager 的多个子页面，有一个特别高的时候，如果还是按照第一种方式来实现，外层的 scrollview 的高度会被撑的很高，然后这个时候当从一个高（即内容很多）的页面滑动到一个内容很少的页面时，底部会出现大量空白，这种体验是很不好的。所以要给 viewpager 一个固定高度，然后通过 viewpager 内部滑动的方式，来达到每个 viewpager 的页面高度都是一致的，不会出现大量页面空白的情况。